import React, { useState } from 'react';
import ServicioInfo from './infoServicios';

function ServiciosCard({ svgIcon, title, onClick, isActive }) {
  const cardStyle =
    'bg-dimWhite border border-gray-300 rounded shadow py-8 transition duration-300 group hover:bg-primary';
  const activeCardStyle =
    'bg-primary text-white border-primary';
  const imageStyle =
    'w-full mb-3 group-hover:text-dimWhite';
  const titleStyle =
    'text-center text-[13px] font-poppins group-hover:text-dimWhite';
  const iconHoverStyle =
    'svg path {fill: #007AAE;} .group:hover svg path {fill: white;}';

  return (
    <div className={`${cardStyle} ${isActive ? activeCardStyle : ''}`} style={{ height: '150px', width: '150px' }} onClick={onClick}>
      <div className="flex flex-col justify-center items-center">
        <svg viewBox="0 0 24 24" className={imageStyle} style={{ height: '50px', width: '50px'}} > {svgIcon} </svg>
        <h2 className={titleStyle}>{title} </h2>
      </div>
      <style>{iconHoverStyle}</style>
    </div>
  );
}

function ServiciosList() {
  const [activeCard, setActiveCard] = useState(null);
  const [showInfo, setShowInfo] = useState(false);
  const [selectedCardTitle, setSelectedCardTitle] = useState('');

  const cards = [
    {
      svgIcon: (
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 1 576 512"><path d="M568.2 336.3c-13.12-17.81-38.14-21.66-55.93-8.469l-119.7 88.17h-120.6c-8.748 0-15.1-7.25-15.1-15.99c0-8.75 7.25-16 15.1-16h78.25c15.1 0 30.75-10.88 33.37-26.62c3.25-20-12.12-37.38-31.62-37.38H191.1c-26.1 0-53.12 9.25-74.12 26.25l-46.5 37.74L15.1 383.1C7.251 383.1 0 391.3 0 400v95.98C0 504.8 7.251 512 15.1 512h346.1c22.03 0 43.92-7.188 61.7-20.27l135.1-99.52C577.5 379.1 581.3 354.1 568.2 336.3zM160 176h64v64C224 248.8 231.2 256 240 256h64C312.8 256 320 248.8 320 240v-64h64c8.836 0 16-7.164 16-16V96c0-8.838-7.164-16-16-16h-64v-64C320 7.162 312.8 0 304 0h-64C231.2 0 224 7.162 224 16v64H160C151.2 80 144 87.16 144 96v64C144 168.8 151.2 176 160 176z"/></svg>
      ),
      title: 'Consultas',
    },
    {
      svgIcon: (
        <svg width="48" height="48" viewBox="1 1 85 85" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M6 9C6 7.34315 7.34315 6 9 6H39C40.6569 6 42 7.34315 42 9V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9ZM19 12H16C14.8954 12 14 12.8954 14 14V36C14 37.1046 14.8954 38 16 38H32C33.1046 38 34 37.1046 34 36V14C34 12.8954 33.1046 12 32 12H29C29 10.8954 28.1046 10 27 10H21C19.8954 10 19 10.8954 19 12ZM22.0638 34.649L24.5572 28H21.0002C20.448 28 20.0002 27.5523 20.0002 27C20.0002 26.4477 20.448 26 21.0002 26H25.9812C25.9939 25.9998 26.0066 25.9998 26.0193 26H26.9809C26.9936 25.9998 27.0064 25.9998 27.0191 26H31.3013C31.8536 26 32.3013 26.4477 32.3013 27C32.3013 27.5523 31.8536 28 31.3013 28H28.4431L30.9365 34.649C31.1304 35.1661 30.8684 35.7425 30.3512 35.9364C29.8341 36.1304 29.2577 35.8684 29.0638 35.3512L27.8054 31.9955H25.1948L23.9365 35.3512C23.7425 35.8684 23.1661 36.1304 22.649 35.9364C22.1319 35.7425 21.8699 35.1661 22.0638 34.649ZM17 19.24H31V17.24H17V19.24ZM22 23.4H17V21.4H22V23.4ZM26.5 25C27.6046 25 28.5 24.1046 28.5 23C28.5 21.8954 27.6046 21 26.5 21C25.3954 21 24.5 21.8954 24.5 23C24.5 24.1046 25.3954 25 26.5 25ZM21 12H27V14H21V12Z" fill="#333333"/> </svg>
      ),
      title: 'Diagnóstico',
    },
    {
      svgIcon: (
        <svg width="48" height="48" viewBox="1 1 85 85" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M9 6C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6H9ZM20.8 16L28.2 16.0002V17.0001C28.2 17.2855 28.4226 17.7213 28.8491 18.2037C29.0393 18.4187 29.2325 18.6011 29.3792 18.7302C29.4519 18.7941 29.5114 18.8434 29.5511 18.8755C29.5708 18.8915 29.5856 18.9031 29.5944 18.9099L29.6024 18.9161L30 19.2159V21H28V20.1802C27.8169 20.016 27.5851 19.7935 27.3509 19.5285C27.033 19.1691 26.6234 18.6359 26.3884 18L22.5447 18.0001C22.493 18.1099 22.4389 18.2107 22.3881 18.3C22.1834 18.6601 21.9233 19.0165 21.6825 19.3192C21.4385 19.6258 21.197 19.8987 21.0178 20.0938L21 20.1132V31.5C21 33.433 22.567 35 24.5 35C25.8962 35 27.1015 34.1825 27.6632 33H29.793C29.14 35.3085 27.0176 37 24.5 37C21.4624 37 19 34.5376 19 31.5V19.3017L19.2907 19.0095L19.2934 19.0067L19.3054 18.9944C19.3166 18.983 19.3338 18.9654 19.3561 18.9421C19.4009 18.8955 19.466 18.8268 19.5447 18.7411C19.703 18.5687 19.9115 18.3327 20.1175 18.0738C20.3266 17.811 20.5166 17.5453 20.6494 17.3117C20.7524 17.1304 20.785 17.0302 20.7953 16.9986C20.7977 16.991 20.7989 16.9874 20.7995 16.9875C20.7996 16.9875 20.7994 16.9872 20.7995 16.9875C20.7995 16.9877 20.7999 16.9886 20.7999 16.989L20.8 16.9932V16ZM32 28.0909C32 29.6976 30.6569 31 29 31C27.3431 31 26 29.6976 26 28.0909C26 25.5455 29 23 29 23C29 23 32 25.5455 32 28.0909ZM29 10H20V14H29V10Z" fill="#333333"/> </svg>
      ),
      title: 'Laboratorio',
    },
    {
      svgIcon: (
        <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 24 24"><path d="M14,11H13V10a1,1,0,0,0-2,0v1H10a1,1,0,0,0,0,2h1v1a1,1,0,0,0,2,0V13h1a1,1,0,0,0,0-2Zm6.16-6A6.29,6.29,0,0,0,12,4.41a6.27,6.27,0,0,0-8.16,9.48l6,6.05a3,3,0,0,0,4.24,0l6-6.05A6.27,6.27,0,0,0,20.16,5Zm-1.41,7.46-6,6a1,1,0,0,1-1.42,0l-6-6a4.29,4.29,0,0,1,0-6,4.27,4.27,0,0,1,6,0,1,1,0,0,0,1.42,0,4.27,4.27,0,0,1,6,0A4.29,4.29,0,0,1,18.75,12.48Z"/></svg>
      ),
      title: 'Procedimientos',
    },
    {
      svgIcon: (
        <svg width="48" height="48" viewBox="1 1 85 85" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M28.4253 9.60001C28.4253 11.5882 26.8135 13.2 24.8252 13.2C22.837 13.2 21.2252 11.5882 21.2252 9.60001C21.2252 7.61178 22.837 6 24.8252 6C26.8135 6 28.4253 7.61178 28.4253 9.60001ZM38 28H23.7517L28.2377 32.4264C28.4199 32.6062 28.566 32.8194 28.6678 33.0543L31.3349 39.2044C31.7743 40.2178 31.3091 41.3955 30.2957 41.835C29.2823 42.2744 28.1045 41.8092 27.6651 40.7958L25.1523 35.0014L18.0566 28H10C8.89543 28 8 28.8954 8 30V42H6V30C6 27.7909 7.79086 26 10 26H15.9639C15.2152 23.4782 15.49 20.8718 16.0807 18.8561C16.3975 17.775 16.8258 16.7902 17.3051 16.0045C17.5441 15.6125 17.8172 15.235 18.1234 14.9119C18.4063 14.6134 18.8334 14.237 19.4033 14.0252C20.6451 13.5637 21.9465 13.5987 23.1077 14.199C24.221 14.7746 25.0046 15.7637 25.513 16.8555C25.7226 17.3053 25.916 17.7248 26.0973 18.1181L26.0979 18.1194C26.5361 19.0699 26.9036 19.867 27.2568 20.5687C27.7531 21.5549 28.1449 22.193 28.5247 22.6354C28.8723 23.0404 29.211 23.2824 29.643 23.4511C30.1137 23.6349 30.7895 23.7678 31.86 23.7999C32.9641 23.833 33.8323 24.7549 33.7991 25.8589C33.7977 25.9064 33.7947 25.9535 33.79 26H38C40.2091 26 42 27.7909 42 30V42H40V30C40 28.8954 39.1046 28 38 28ZM24.3625 23.6269L23.848 26H26.2396C25.9737 25.7682 25.7248 25.5149 25.4895 25.2408C25.0737 24.7564 24.7056 24.2125 24.3625 23.6269ZM16.4862 29.7735L19.7865 32.9389L18.5389 37.1492C18.4882 37.3202 18.4148 37.4837 18.3208 37.6353L16.1995 41.0544C15.6172 41.993 14.3842 42.2818 13.4456 41.6995C12.507 41.1172 12.2182 39.8842 12.8005 38.9456L14.7801 35.7549L16.122 31.2266L16.4862 29.7735Z" fill="#333333"/> </svg>
      ),
      title: 'Rehabilitación',
    },
  ];

  const handleClick = (title) => {
    setActiveCard(title);
    setSelectedCardTitle(title);
    setShowInfo(true);
  };

  return (
    <div>
      <div className="flex flex-wrap">
        {cards.map((card, index) => (
          <div className="flex flex-col justify-center items-center mb-4 mr-4" key={index} style={{ flex: '1 0 120px' }}>
            <ServiciosCard
              svgIcon={card.svgIcon}
              title={card.title}
              onClick={() => handleClick(card.title)}
              isActive={activeCard === card.title}
            />
          </div>
        ))}
      </div>
      {showInfo && <ServicioInfo activeCard={activeCard} title={selectedCardTitle} />}
    </div>
  );
}

export default ServiciosList;